(window.webpackJsonpnose=window.webpackJsonpnose||[]).push([[0],{151:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},172:function(e,t,a){e.exports=a(278)},177:function(e,t,a){},178:function(e,t,a){},278:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(18),o=a.n(l),c=(a(177),a(151)),i=a.n(c),s=(a(178),a(68)),u=a(15),m=a(87),d=a(88),p=a(89),f=a(109),g=a(90),b=a(110),h=a(283),E=a(54),O=a(280),v=(a(129),a(281)),j=a(282),y=a(40),w=a.n(y),k=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(f.a)(this,Object(g.a)(t).call(this,e))).handleOK=function(){console.log(a.state.groupName);var e=new FormData;e.append("name",a.state.groupName),e.append("config",a.state.config),w.a.post("https://golang.wall-e.club/admin/group",e).then(function(e){a.props.refresh()})},a.handleCancle=function(){a.setState({visible:!1})},a.show=function(){a.setState({visible:!0})},a.state={visible:!1,groupName:"",config:""},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(h.a,{title:"Edit",visible:this.state.visible,onCancel:this.handleCancle,onOk:this.handleOK},r.a.createElement(v.a,{labelCol:{span:8},wrapperCol:{span:16}},r.a.createElement(v.a.Item,{label:"Group Name:"},r.a.createElement(j.a,{onChange:function(t){e.setState({groupName:t.target.value})}})),r.a.createElement(v.a.Item,{label:"Config:"},r.a.createElement(j.a.TextArea,{onChange:function(t){e.setState({config:t.target.value})},autoSize:{minRows:2}}))))}}]),t}(r.a.Component);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach(function(t){Object(m.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var D=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(f.a)(this,Object(g.a)(t).call(this,e))).state={data:[],pagination:{pageSize:20}},a.url="https://golang.wall-e.club/admin/list",a.groupUrl="https://golang.wall-e.club/admin/group",a.editLayer=void 0,a.onRef=function(e){a.editLayer=e},a.handleCreate=function(){a.editLayer.show()},a.handleDelete=function(e){h.a.confirm({title:"\u786e\u5b9a\u8981\u5220\u9664",content:"ID: "+e.id+", Name: "+e.name,onOk:function(){w.a.delete(a.groupUrl+"/"+e.id).then(function(e){a.fetchData()})}})},a.fetchData=function(){w.a.get(a.url).then(function(e){var t=e.data.list;a.setState({data:t,pagination:S({},a.state.pagination,{total:e.data.length})})})},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{margin:"auto",padding:"5px",width:"90%",border:"1px solid #eee"}},r.a.createElement("h3",null,"Test nose !"),r.a.createElement(E.a,{onClick:this.handleCreate},"\u65b0\u589e"),r.a.createElement(k,{ref:this.onRef,refresh:this.fetchData}),r.a.createElement(O.b,{size:"small",dataSource:this.state.data,renderItem:function(t){return r.a.createElement(O.b.Item,{actions:[r.a.createElement(s.b,{to:"list/"+t.id,key:"list-loadmore-edit"},"view"),r.a.createElement("a",{key:"list-loadmore-edit"},"edit"),r.a.createElement("a",{key:"list-loadmore-del",onClick:function(a){e.handleDelete(t)}},"delete")]},t.name)},pagination:this.state.pagination}))}}]),t}(r.a.Component),I=a(58),P=a(164),x=a.n(P);function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(a,!0).forEach(function(t){Object(m.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var z="https://golang.wall-e.club/admin/item",F=function(e){var t=e.gid,a=e.rid,l=e.id,o=e.type,c=e.children,i=e.callback,s=Object(n.useState)(!1),u=Object(I.a)(s,2),m=u[0],d=u[1],p=v.a.useForm(),f=Object(I.a)(p,1)[0],g=z+(l?"/"+l:""),b=function(){f.resetFields(),d(!0)};return Object(n.useEffect)(function(){l&&!0===m&&w.a.get(g).then(function(e){var t=e.data;console.log(e),f.setFieldsValue(t)})},[m]),r.a.createElement(r.a.Fragment,null,"a"===o?r.a.createElement("a",{onClick:b},c):r.a.createElement(E.a,{type:o,onClick:b},c),r.a.createElement(h.a,{title:l?"\u7f16\u8f91:"+l:"\u65b0\u589e",visible:m,onCancel:function(){return d(!1)},onOk:function(){w.a.post(g,x.a.stringify(A({},f.getFieldsValue(),{rid:a,gid:t,id:l}))).then(function(e){console.log(e),d(!1),i&&i()})}},r.a.createElement(v.a,{labelCol:{span:8},wrapperCol:{span:16},form:f},r.a.createElement(v.a.Item,{label:"Groupd ID"},t),r.a.createElement(v.a.Item,{label:"Relate ID"},a),r.a.createElement(v.a.Item,{label:"Item Name",name:"name"},r.a.createElement(j.a,null)),r.a.createElement(v.a.Item,{label:"Config",name:"config"},r.a.createElement(j.a.TextArea,{autoSize:{minRows:2}})),r.a.createElement(v.a.Item,{label:"content",name:"content"},r.a.createElement(j.a.TextArea,{autoSize:{minRows:3}})),r.a.createElement(v.a.Item,{label:"mode",name:"model_id"},r.a.createElement(j.a,null)))))},R=function(e){var t=e.id,a=e.children,n=e.callback,l=e.type,o=h.a.confirm,c=function(){o({title:"\u662f\u5426\u5220\u9664\uff1a"+t,onOk:function(){w.a.delete(z+"/"+t).then(function(e){n&&n()})}})};return r.a.createElement(r.a.Fragment,null,"a"===l?r.a.createElement("a",{onClick:c},a):r.a.createElement(E.a,{type:l,onClick:c},a))},L=function(){var e=Object(n.useState)([]),t=Object(I.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(!1),c=Object(I.a)(o,2),i=c[0],m=c[1],d=Object(n.useState)(1),p=Object(I.a)(d,2),f=p[0],g=p[1],b=Object(n.useState)({pageSize:20,onChange:function(e){return g(e)}}),h=Object(I.a)(b,2),E=h[0],v=h[1],j=Object(u.f)();console.log(j);var y=function(){m(!i)};return Object(n.useEffect)(function(){var e="https://golang.wall-e.club/admin/list";j.gid&&(e+="/"+j.gid),j.gid&&j.rid&&(e+="/"+j.rid),w.a.get(e,{params:{page:f}}).then(function(e){var t=e.data,a=t.list,n=t.total;l(a),v(A({},E,{total:n}))})},[i,f]),r.a.createElement("div",null,r.a.createElement("h3",null,"Gid: ",j.gid,", Pid: ",j.rid),r.a.createElement(F,{gid:j.gid,rid:j.rid,callback:y},"\u65b0\u589e"),r.a.createElement(O.b,{size:"small",dataSource:a,renderItem:function(e){return r.a.createElement(O.b.Item,{actions:[r.a.createElement(s.b,{to:"/list/"+e.group_id+"/"+e.id,key:"list-loadmore-edit"},"view"),r.a.createElement(F,{type:"a",id:e.id,gid:j.gid,rid:j.rid,callback:y},"\u7f16\u8f91"),r.a.createElement(R,{type:"a",id:e.id,callback:y},"\u5220\u9664")]},e.name)},pagination:E}))},T=function(){return r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:i.a,className:"App-logo",alt:"logo"}),r.a.createElement("p",null,"Edit ",r.a.createElement("code",null,"src/App.tsx")," and save to reload."),r.a.createElement("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer"},"Learn React"))},G=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(s.a,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",component:T}),r.a.createElement(u.a,{exact:!0,path:"/list",component:D}),r.a.createElement(u.a,{exact:!0,path:"/list/:gid",component:L}),r.a.createElement(u.a,{exact:!0,path:"/list/:gid/:rid",component:Object(u.g)(L)}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(275).config(),o.a.render(r.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[172,1,2]]]);
//# sourceMappingURL=main.c2e625c2.chunk.js.map